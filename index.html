<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice Summary - Autocentre</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A single-page dashboard design is used to provide an immediate high-level overview and allow for intuitive drill-downs. The structure begins with key summary metrics (Total Due, Due Date) at the top for quick reference. The core of the application is a split layout featuring an interactive donut chart for a visual breakdown of cost categories, paired with a textual summary. This is followed by a tabbed interface for detailed line items. This structure was chosen to follow the "overview first, details on demand" principle, making the invoice easy to digest without overwhelming the user. The interactive chart provides quick insights, while the tabs keep the detailed data organized and accessible. -->
    <!-- Visualization & Content Choices: 
        - Key Metrics (Total Due): Goal=Inform -> Presentation=Large, styled text -> Interaction=None -> Justification=Highlights the most critical information immediately. Method=HTML/Tailwind.
        - Cost Breakdown: Goal=Compare -> Presentation=Donut Chart -> Interaction=Hover to see details -> Justification=Visually shows the proportion of each service's cost to the total, which is more intuitive than reading numbers alone. Library=Chart.js (Canvas).
        - Detailed Items: Goal=Organize/Inform -> Presentation=Tabbed navigation with HTML tables -> Interaction=Click tabs to switch views -> Justification=Prevents a long, cluttered page by segmenting detailed information logically. Method=Vanilla JS.
        - Payment Info: Goal=Inform -> Presentation=Styled card with a copy button -> Interaction=Click to copy account number -> Justification=Improves usability by making the payment process easier and less error-prone. Method=Vanilla JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #3f3f46;
        }
        .tab-active {
            border-color: #c8a2c8;
            color: #c8a2c8;
            font-weight: 600;
        }
        .tab-inactive {
            border-color: transparent;
            color: #71717a;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="antialiased">
    <div class="max-w-6xl mx-auto p-4 md:p-8">
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-zinc-800">Invoice Summary</h1>
            <p class="text-lg text-zinc-500 mt-2">Billed to: Autocentre</p>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 md:mb-12">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200 flex flex-col justify-center items-center text-center">
                <h2 class="text-sm font-medium text-zinc-500 tracking-wider uppercase">Total Due</h2>
                <p class="text-5xl font-bold text-zinc-800 mt-2">PKR 99,500</p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200 flex flex-col justify-center items-center text-center">
                <h2 class="text-sm font-medium text-zinc-500 tracking-wider uppercase">Payment Due</h2>
                <p class="text-4xl font-semibold text-rose-600 mt-2">September 10, 2025</p>
            </div>
        </div>
        
        <div class="bg-white p-6 md:p-8 rounded-2xl shadow-sm border border-gray-200 mb-8 md:mb-12">
            <h2 class="text-2xl font-bold text-zinc-800 text-center mb-2">Cost Breakdown</h2>
            <p class="text-zinc-500 text-center max-w-2xl mx-auto mb-8">This interactive summary provides a clear breakdown of the services rendered for Autocentre over the past two months. The chart visualizes the contribution of each service category to the total cost. Use the chart and detailed tabs below to explore the charges.</p>
            <div class="chart-container">
                <canvas id="invoiceChart"></canvas>
            </div>
        </div>

        <div class="bg-white p-6 md:p-8 rounded-2xl shadow-sm border border-gray-200">
             <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-zinc-800">Detailed Services</h2>
                 <p class="text-zinc-500 max-w-2xl mx-auto mt-2">For a granular view of the invoice, select a category below. Each tab contains a complete list of the vehicles and services included in that charge.</p>
            </div>

            <div class="mb-6 border-b border-gray-200">
                <nav class="flex justify-center -mb-px space-x-6" aria-label="Tabs">
                    <button class="tab-button tab-active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="full-production">Full Production</button>
                    <button class="tab-button tab-inactive whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="photo-only">Photo-Only</button>
                    <button class="tab-button tab-inactive whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="social-media">Social Media</button>
                </nav>
            </div>

            <div id="tab-content">
                <div id="full-production" class="tab-pane">
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Car Name</th>
                                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Cost</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <!-- Data will be populated by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="photo-only" class="tab-pane hidden">
                    <div class="bg-gray-50 rounded-lg p-6">
                        <p class="text-zinc-600 mb-4">This is a single charge for photography services for three vehicles, with no video production included.</p>
                        <div class="flow-root">
                            <ul role="list" class="divide-y divide-gray-200">
                                <li class="py-3 sm:py-4 flex items-center justify-between">
                                    <p class="text-sm font-medium text-zinc-800 truncate">2x Daihatsu Mira, 1x Toyota Yaris</p>
                                    <p class="text-sm font-semibold text-zinc-800">PKR 4,500</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="social-media" class="tab-pane hidden">
                    <div class="bg-gray-50 rounded-lg p-6">
                         <p class="text-zinc-600 mb-4">This charge covers two months of social media content posting and management services.</p>
                        <dl class="space-y-4">
                            <div class="flex items-center justify-between">
                                <dt class="text-sm text-zinc-600">Base Rate (2 months @ 25,000)</dt>
                                <dd class="text-sm font-medium text-zinc-800">PKR 50,000</dd>
                            </div>
                            <div class="flex items-center justify-between">
                                <dt class="text-sm text-green-600">Discount Applied</dt>
                                <dd class="text-sm font-medium text-green-600">- PKR 5,000</dd>
                            </div>
                             <div class="flex items-center justify-between border-t border-gray-200 pt-4">
                                <dt class="text-base font-semibold text-zinc-800">Subtotal</dt>
                                <dd class="text-base font-semibold text-zinc-800">PKR 45,000</dd>
                            </div>
                        </dl>
                    </div>
                </div>
            </div>
        </div>

        <footer class="mt-8 md:mt-12 bg-white p-6 md:p-8 rounded-2xl shadow-sm border border-gray-200">
            <h3 class="text-xl font-bold text-center text-zinc-800 mb-6">Payment Instructions</h3>
            <div class="max-w-md mx-auto bg-gray-50 p-6 rounded-lg">
                <div class="space-y-3">
                    <div class="flex justify-between">
                        <span class="text-sm text-zinc-500">Bank:</span>
                        <span class="text-sm font-semibold text-zinc-800">Bank Al Habib</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-sm text-zinc-500">Account Holder:</span>
                        <span class="text-sm font-semibold text-zinc-800">MANSOOR ANWAR KHAN</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-zinc-500">Account Number:</span>
                        <span id="account-number" class="text-sm font-semibold text-zinc-800">10170981028974018</span>
                    </div>
                </div>
                <button id="copy-button" class="mt-6 w-full bg-zinc-800 text-white py-2.5 px-4 rounded-lg text-sm font-semibold hover:bg-zinc-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500 transition-all">
                    Copy Account Number
                </button>
                <p id="copy-feedback" class="text-center text-green-600 text-xs mt-2 h-4"></p>
            </div>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const invoiceData = {
                fullProduction: {
                    total: 50000,
                    cars: [
                        { name: 'Lexus LX570', cost: 5000 },
                        { name: 'Lexus LX600', cost: 5000 },
                        { name: 'Toyota Land Cruiser 300', cost: 5000 },
                        { name: 'Toyota Land Cruiser Prado', cost: 5000 },
                        { name: 'Honda Vezel', cost: 5000 },
                        { name: 'Honda Insight', cost: 5000 },
                        { name: 'Suzuki Alto (x2)', cost: 10000 },
                        { name: 'Daihatsu Mira', cost: 5000 },
                        { name: 'Audi E-Tron', cost: 5000 },
                    ]
                },
                photoOnly: { total: 4500 },
                socialMedia: { total: 45000 },
            };

            const ctx = document.getElementById('invoiceChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Full Production', 'Photo-Only Services', 'Social Media'],
                    datasets: [{
                        data: [
                            invoiceData.fullProduction.total,
                            invoiceData.photoOnly.total,
                            invoiceData.socialMedia.total
                        ],
                        backgroundColor: ['#d8bfd8', '#c8a2c8', '#b886b8'],
                        borderColor: '#FDFBF8',
                        borderWidth: 4,
                        hoverOffset: 12,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14,
                                    family: "'Inter', sans-serif"
                                },
                                color: '#3f3f46'
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'PKR' }).format(context.parsed);
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            const fullProductionTbody = document.querySelector('#full-production tbody');
            invoiceData.fullProduction.cars.forEach(car => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${car.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right">PKR ${car.cost.toLocaleString()}</td>
                `;
                fullProductionTbody.appendChild(row);
            });
            const totalRow = document.createElement('tr');
            totalRow.innerHTML = `
                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900">Subtotal</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900 text-right">PKR ${invoiceData.fullProduction.total.toLocaleString()}</td>
            `;
            fullProductionTbody.appendChild(totalRow);

            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanes = document.querySelectorAll('.tab-pane');
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => {
                        btn.classList.remove('tab-active');
                        btn.classList.add('tab-inactive');
                    });
                    button.classList.add('tab-active');
                    button.classList.remove('tab-inactive');

                    tabPanes.forEach(pane => {
                        if (pane.id === button.dataset.tab) {
                            pane.classList.remove('hidden');
                        } else {
                            pane.classList.add('hidden');
                        }
                    });
                });
            });
            
            const copyButton = document.getElementById('copy-button');
            const accountNumber = document.getElementById('account-number').innerText;
            const copyFeedback = document.getElementById('copy-feedback');
            copyButton.addEventListener('click', () => {
                const tempInput = document.createElement('input');
                document.body.appendChild(tempInput);
                tempInput.value = accountNumber;
                tempInput.select();
                document.execCommand('copy');
                document.body.removeChild(tempInput);
                
                copyFeedback.textContent = 'Copied to clipboard!';
                setTimeout(() => {
                    copyFeedback.textContent = '';
                }, 2000);
            });
        });
    </script>
</body>
</html>

